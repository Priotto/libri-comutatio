<h1 class="text-center mb-5">My Books</h1>

<% if @books.available.empty? %>
  <div>
    <p>You don't have books to trade</p>
  </div>
<% else %>
  <div class="container d-flex flex-wrap">
    <div class="row">
      <% @books.available.each do |book| %>
        <div class="col-md-6">
          <div class="card flex-md-row mb-4 shadow-sm h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
              <strong class="d-inline-block mb-2 text-primary"><%=link_to book.title.truncate(55), book_path(book) %></strong>
              <h6 class="mb-0 text-dark">
                <%= book.author %>
              </h6>
              <div class="mb-1 text-muted small"><%= book.user.full_name %></div>
                <p class="card-text mb-auto"><%= book.synopsis.truncate(160) %></p>
                <div class="d-inline-flex">
                  <%= link_to "Edit", edit_book_path(book), :method => :edit, class: "btn btn-primary mr-5" %>
                  <%= link_to "Delete", book_path(book), :method => :delete, data: {:confirm => "You sure?" , :turbo_method => :delete, :turbo => true}, class: "btn mr-5 btn-danger btn-sm" %>
                </div>
              </div>
              <img class="card-img-right flex-auto d-none d-lg-block" alt="Thumbnail [200x250]" src=<%= book.thumbnail %> style="width: 200px; height: 250px;">
          </div>
        </div>
      <% end %>
    </div>
  </div>
<% end %>
